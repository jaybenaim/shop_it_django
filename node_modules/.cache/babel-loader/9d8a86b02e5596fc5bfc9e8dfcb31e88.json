{"ast":null,"code":"var _jsxFileName = \"/Users/jay/projects/shop_it_django/shop_it_frontend/src/components/Register.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport Login from './Login';\nimport Signup from './Signup';\nimport Api from '../apis/api';\n\nclass Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loggedIn: localStorage.token ? true : false,\n      username: localStorage.username || null,\n      displayedForm: null\n    };\n\n    this.handleSignup = (e, data) => {\n      e.preventDefault();\n      Api.post(\"users/\", {\n        username: data.username,\n        password: data.password\n      }).then(res => {\n        console.log(res.data);\n        localStorage.token = res.data.token;\n        localStorage.userId = res.data.id;\n        localStorage.username = res.data.username;\n        console.log(res.statusText);\n      });\n    };\n\n    this.handleLogin = (e, data) => {\n      e.preventDefault();\n      Axios.post(\"http://localhost:8000/authenticate/\", data, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        localStorage.token = res.data.token;\n        localStorage.userId = res.data.id;\n        localStorage.username = res.data.username;\n        console.log(res.statusText);\n      });\n    };\n\n    this.handleLogout = e => {\n      e.preventDefault();\n      localStorage.token = \"\";\n      localStorage.userId = \"\";\n      localStorage.username = \"\";\n      this.setState({\n        loggedIn: false\n      });\n    };\n\n    this.displayForm = form => {\n      this.setState({\n        displayedForm: form\n      });\n    };\n\n    this.loggedOutNav = React.createElement(\"div\", {\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"btn btn-primary login-button\",\n      onClick: () => this.displayForm(\"login\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"li\", {\n      className: \"btn btn-primary signup-button\",\n      onClick: () => this.displayForm(\"signup\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Signup\")));\n    this.loggedInNav = React.createElement(\"button\", {\n      className: \"btn btn-warning logout-button\",\n      onClick: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Logout\");\n  }\n\n  render() {\n    let form;\n\n    switch (this.state.displayedForm) {\n      case \"login\":\n        form = React.createElement(Login, {\n          handleLogin: this.handleLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        });\n        break;\n\n      case \"signup\":\n        form = React.createElement(Signup, {\n          handleSignup: this.handleSignup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        });\n        break;\n\n      default:\n        form = null;\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.state.loggedIn ? this.loggedInNav : this.loggedOutNav, form, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.loggedIn ? \"Hello, \".concat(localStorage.username) : \"Please Log In\"));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/jay/projects/shop_it_django/shop_it_frontend/src/components/Register.js"],"names":["React","Component","Axios","Login","Signup","Api","Register","state","loggedIn","localStorage","token","username","displayedForm","handleSignup","e","data","preventDefault","post","password","then","res","console","log","userId","id","statusText","handleLogin","headers","handleLogout","setState","displayForm","form","loggedOutNav","loggedInNav","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport Axios from 'axios'; \nimport Login from './Login'\nimport Signup from './Signup' \nimport Api from '../apis/api'\n\nclass Register extends Component {\n  state = {\n    loggedIn: localStorage.token ? true : false,\n    username: localStorage.username || null,\n    displayedForm: null\n  };\n\n  handleSignup = (e, data) => {\n    e.preventDefault();\n    Api.post(\"users/\", {\n      username: data.username,\n      password: data.password\n    }).then(res => {\n      console.log(res.data);\n      localStorage.token = res.data.token;\n      localStorage.userId = res.data.id;\n      localStorage.username = res.data.username;\n      console.log(res.statusText);\n    });\n  };\n\n  handleLogin = (e, data) => {\n    e.preventDefault();\n    Axios.post(\"http://localhost:8000/authenticate/\", data, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      localStorage.token = res.data.token;\n      localStorage.userId = res.data.id;\n      localStorage.username = res.data.username;\n      console.log(res.statusText);\n    });\n  };\n\n  handleLogout = e => {\n    e.preventDefault();\n    localStorage.token = \"\";\n    localStorage.userId = \"\";\n    localStorage.username = \"\";\n\n    this.setState({ loggedIn: false });\n  };\n\n  displayForm = form => {\n    this.setState({\n      displayedForm: form\n    });\n  };\n\n  loggedOutNav = (\n    <div className=\"center\">\n      <ul>\n        <li\n          className=\"btn btn-primary login-button\"\n          onClick={() => this.displayForm(\"login\")}\n        >\n          Login\n        </li>\n\n        <li\n          className=\"btn btn-primary signup-button\"\n          onClick={() => this.displayForm(\"signup\")}\n        >\n          Signup\n        </li>\n      </ul>\n    </div>\n  );\n  loggedInNav = (\n    <button\n      className=\"btn btn-warning logout-button\"\n      onClick={this.handleLogout}\n    >\n      Logout\n    </button>\n  );\n\n  render() {\n    let form;\n    switch (this.state.displayedForm) {\n      case \"login\":\n        form = <Login handleLogin={this.handleLogin} />;\n        break;\n      case \"signup\":\n        form = <Signup handleSignup={this.handleSignup} />;\n        break;\n      default:\n        form = null;\n    }\n    return (\n      <div className=\"container\">\n        {this.state.loggedIn ? this.loggedInNav : this.loggedOutNav}\n        {form}\n        <h3>\n          {this.state.loggedIn\n            ? `Hello, ${localStorage.username}`\n            : \"Please Log In\"}\n        </h3>\n      </div>\n    );\n  }\n}\n    \n    \nexport default Register;"]},"metadata":{},"sourceType":"module"}