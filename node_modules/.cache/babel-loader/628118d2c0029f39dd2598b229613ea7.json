{"ast":null,"code":"var _jsxFileName = \"/Users/jay/projects/shop_it_django/shop_it_frontend/src/components/Register.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport Login from './Login';\nimport Signup from './Signup';\nimport Api from '../apis/api';\n\nclass Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loggedIn: localStorage.token ? true : false,\n      username: null,\n      displayedForm: null\n    };\n\n    this.handleSignup = (e, data) => {\n      console.log(data);\n      e.preventDefault();\n      Api.post(\"users/\", {\n        username: data.username,\n        password: data.password\n      }).then(res => {\n        localStorage.token = res.data.token;\n        localStorage.userId = res.data.id;\n      });\n    };\n\n    this.handleLogin = (e, data) => {\n      e.preventDefault();\n      Axios.post(\"http://localhost:8000/authenticate/\", data, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        localStorage.token = res.data.token;\n        localStorage.userId = res.data.id;\n      });\n    };\n\n    this.handleLogout = e => {\n      e.preventDefault();\n      localStorage.token = \"\";\n      localStorage.userId = \"\";\n      this.setState({\n        loggedIn: false\n      });\n    };\n\n    this.displayForm = (e, form) => {\n      e.preventDefault();\n      this.setState({\n        displayedForm: form\n      });\n    };\n\n    this.loggedOutNav = React.createElement(\"div\", {\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"btn btn-primary login-button\",\n      onClick: () => this.displayForm(\"login\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"li\", {\n      className: \"btn btn-primary signup-button\",\n      onClick: () => this.displayForm(\"signup\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Signup\")));\n    this.loggedInNav = React.createElement(\"button\", {\n      className: \"btn btn-warning logout-button\",\n      onClick: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Logout\");\n  }\n\n  render() {\n    let form;\n\n    switch (this.state.displayedForm) {\n      case \"login\":\n        form = React.createElement(Login, {\n          handleLogin: this.handleLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        });\n        break;\n\n      case \"signup\":\n        form = React.createElement(Signup, {\n          handleSignup: this.handleSignup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        });\n        break;\n\n      default:\n        form = null;\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.state.loggedIn ? this.loggedInNav : this.loggedOutNav, form, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.loggedIn ? \"Hello, \".concat(localStorage.userId) : \"Please Log In\"));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/jay/projects/shop_it_django/shop_it_frontend/src/components/Register.js"],"names":["React","Component","Axios","Login","Signup","Api","Register","state","loggedIn","localStorage","token","username","displayedForm","handleSignup","e","data","console","log","preventDefault","post","password","then","res","userId","id","handleLogin","headers","handleLogout","setState","displayForm","form","loggedOutNav","loggedInNav","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport Axios from 'axios'; \nimport Login from './Login'\nimport Signup from './Signup' \nimport Api from '../apis/api'\n\nclass Register extends Component {\n    state = {\n        loggedIn: localStorage.token ? true : false,\n        username: null, \n        displayedForm: null, \n    };\n\n    handleSignup = (e, data) => {\n        console.log(data)\n        e.preventDefault();\n        Api.post(\"users/\", { username: data.username, password: data.password}).then(res => {\n          localStorage.token = res.data.token;\n          localStorage.userId = res.data.id;\n        });\n    };\n\n    handleLogin = (e, data) => {\n        e.preventDefault();\n        Axios.post(\"http://localhost:8000/authenticate/\", data, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(res => {\n          localStorage.token = res.data.token;\n          localStorage.userId = res.data.id;\n        });\n    };\n\n    handleLogout = e => {\n        e.preventDefault();\n        localStorage.token = \"\";\n        localStorage.userId = \"\";\n        this.setState({ loggedIn: false });\n    };\n\n    displayForm = (e, form) => {\n        e.preventDefault(); \n        this.setState({\n        displayedForm: form\n        });\n    };\n\n    loggedOutNav = (\n        <div className=\"center\">\n        <ul>\n            <li\n            className=\"btn btn-primary login-button\"\n            onClick={() => this.displayForm(\"login\")}\n            >\n            Login\n            </li>\n\n            <li\n            className=\"btn btn-primary signup-button\"\n            onClick={() => this.displayForm(\"signup\")}\n            >\n            Signup\n            </li>\n        </ul>\n        </div>\n    );\n    loggedInNav = (\n        <button\n        className=\"btn btn-warning logout-button\"\n        onClick={this.handleLogout}\n        >\n        Logout\n        </button>\n    );\n\n    render() {\n        let form;\n        switch (this.state.displayedForm) {\n        case \"login\":\n            form = <Login handleLogin={this.handleLogin} />;\n            break;\n        case \"signup\":\n            form = <Signup handleSignup={this.handleSignup} />;\n            break;\n        default:\n            form = null;\n        }\n        return (\n        <div className=\"container\">\n            {this.state.loggedIn ? this.loggedInNav : this.loggedOutNav}\n            {form}\n            <h3>\n            {this.state.loggedIn\n                ? `Hello, ${localStorage.userId}`\n                : \"Please Log In\"}\n            </h3>\n        </div>\n        );\n    }\n    }\n    \n    \nexport default Register;"]},"metadata":{},"sourceType":"module"}