(this.webpackJsonpshop_it_frontend=this.webpackJsonpshop_it_frontend||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),c=(a(72),a(5)),s=a(6),i=a(8),u=a(7),m=a(9),h=a(115),p=a(116),d=a(62),g=a(19),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:"home-container"},r.a.createElement(p.a,null,r.a.createElement("div",{className:"welcome-header"},r.a.createElement("h1",null,"Shop It"))),r.a.createElement(p.a,null,r.a.createElement(d.a,{className:"home-image-container"},r.a.createElement("a",{href:"/shop_it_django/"},r.a.createElement("div",{className:"home-image-cart"})))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(g.b,{to:"/stores"},r.a.createElement("span",{className:"home-store-label"},"View Stores "),r.a.createElement("div",{className:"home-store-image-container"})," ")),r.a.createElement(d.a,null,r.a.createElement(g.b,{to:"/shopping_list"},r.a.createElement("span",{className:"home-list-label"},"View Shopping Lists"),r.a.createElement("div",{className:"home-list-image-container"}))),r.a.createElement(d.a,null,r.a.createElement("div",{className:"home-search-box-container"},r.a.createElement("span",{className:"home-search-label"},"Search"),r.a.createElement(g.b,{to:"/search",className:"home-search-icon"},r.a.createElement("span",{className:"search-icon-label"},"Search for a product"),r.a.createElement("i",{className:"fa fa-search"})))))))}}]),t}(r.a.Component),E=a(22),b=a(24),S=a.n(b),v=S.a.create({baseURL:"https://shop-it-quick.herokuapp.com/api/"}),y=a(121),w=a(117),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a.budgetRef=r.a.createRef(),a.nameRef=r.a.createRef(),a.handleSubmit=function(e){e.preventDefault();var t=a.nameRef.current.value,n=a.budgetRef.current.value,r=localStorage.id,o=a.props,l=o.handleShowShoppingListForm,c=o.getShoppingLists;v.post("shopping_list/",{budget:n,user:Number(r),name:t},{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(window.localStorage.token)}}).then((function(e){l(),c(),console.log(e.statusText)}))},a.goBack=function(){var e=a.props,t=e.handleShowShoppingListForm,n=e.getShoppingLists;t(),n()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log(localStorage.id),r.a.createElement(y.a,{className:"new-list-form"},r.a.createElement(y.a.Group,{controlId:"formBasicEmail"},r.a.createElement(y.a.Label,{className:"list-name-label"},"Name of List"),r.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Name",ref:this.nameRef})),r.a.createElement(y.a.Group,{controlId:"formBasicPassword"},r.a.createElement(y.a.Label,{className:"list-budget-label"},"Budget"),r.a.createElement(y.a.Control,{className:"budget-input",type:"number",placeholder:"Enter your budget",ref:this.budgetRef})),r.a.createElement(w.a,{onClick:function(){return e.goBack()}},"Back"),r.a.createElement(w.a,{className:"new-list-submit",variant:"primary",type:"submit",onClick:this.handleSubmit},"Submit"))}}]),t}(n.Component),j=a(118),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).formatDate=function(e){var t={1:"st",2:"nd",3:"rd",4:"th",5:"th",6:"th",7:"th",8:"th",9:"th",0:"th"},a=(e=e.split("-")).pop(-1),n=e.pop(-1);return(n={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}[n])+"  "+(a+=a>=10?t[a[1]]:t[a])},a.destroyShoppingList=function(){var e=a.props.shoppingList.id,t=a.props.getShoppingLists;v.delete("shopping_list/".concat(e,"/"),{headers:{"Content-Type":"Application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){console.log("Shopping List Deleted"),t()})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.shoppingList,a=e.handleShowShoppingList,n=t.name,o=t.budget,l=t.products,c=t.date;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{className:"list-name",onClick:function(){return a(t,l)}},n,r.a.createElement("br",null)),r.a.createElement(w.a,{className:"delete-list-button",variant:"outline-danger",onClick:this.destroyShoppingList},r.a.createElement("span",null,"X")),r.a.createElement("span",{className:"list-date"}," ",this.formatDate(c))),r.a.createElement("td",null,"$ ",o,r.a.createElement("br",null),r.a.createElement("span",null)),r.a.createElement("td",null,r.a.createElement("ul",null,l.length)))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={shoppingList:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.shoppingLists,a=e.handleShowShoppingList,n=e.products,o=e.getShoppingLists,l=t.map((function(e,t){return r.a.createElement(L,{key:t,shoppingList:e,products:n,handleShowShoppingList:a,getShoppingLists:o})}));return r.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Shopping List"),r.a.createElement("th",null,"Budget"),r.a.createElement("th",null,"Items"))),r.a.createElement("tbody",null,l))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.currentProducts,t=e.name,a=e.price;return r.a.createElement("div",null,r.a.createElement("div",{className:"product-name"},r.a.createElement("h2",null,t.toUpperCase()),r.a.createElement("p",null,"$ ",a)),r.a.createElement("span",{className:"add-to-cart-button"},r.a.createElement("label",{htmlFor:"added"},"Added to Cart"),"\xa0",r.a.createElement("input",{type:"checkbox",value:"added"})),r.a.createElement("hr",null))}}]),t}(n.Component),C=a(29),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={productList:[],total:Number(a.props.total),isLoaded:!1},a.getProducts=function(){var e=a.props,t=e.products,n=e.updateTotal,r=[];t.forEach((function(e){v.get("products/".concat(e,"/")).then((function(e){r.push(e.data),a.setState((function(t){return{total:Math.round(100*(t.total-e.data.price))/100}}))})).then((function(e){a.setState({productList:r}),n(a.state.total)}))}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"render",value:function(){var e=this.state,t=e.productList,a=e.isLoaded,n=e.total,o=t.map((function(e,t){return!a&&r.a.createElement(N,{key:t,currentProducts:e,total:n})}));return r.a.createElement("td",{colSpan:"3",className:"shopping-list-products"},o)}}]),t}(n.Component),F=a(120),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).nameRef=r.a.createRef(),a.priceRef=r.a.createRef(),a.descriptionRef=r.a.createRef(),a.ingredientsRef=r.a.createRef(),a.state={productId:[],isLoaded:!1},a.getProductIds=function(){var e=a.props.shoppingList.products;console.log(e)},a.addProduct=function(){var e=a.nameRef.current.value,t=a.priceRef.current.value,n=a.descriptionRef.current.value,r=a.ingredientsRef.current.value,o=a.state.isLoaded;n||(n="N/A"),r||(r="N/A");var l={name:e,price:t,description:n,ingredients:r};v.post("products/",l,{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){var t=e.data.id;a.addProductToList(t),a.setState({productId:t,isLoaded:!o}),console.log(e.statusText)})).catch((function(e){console.log("Error: "+e)}))},a.addProductToList=function(e){var t=a.state.isLoaded,n=a.props.getShoppingLists,r=a.props.shoppingList,o=r.id,l=r.products,c={products:[].concat(Object(C.a)(l),[Number(e)])};v.patch("shopping_list/".concat(o,"/"),c,{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){a.setState({isLoaded:!t}),n()}))},a.handleSubmit=function(){var e=a.props,t=e.handleShowProductForm,n=e.getShoppingLists;a.addProduct(),n(),t()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.shoppingList,a=e.handleShowProductForm,n=t.id;return r.a.createElement(F.a.Dialog,{show:a.toString()},r.a.createElement(F.a.Header,null,r.a.createElement(F.a.Title,null,"Add a product to shopping list ",n)),r.a.createElement(F.a.Body,null,r.a.createElement(y.a,null,r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:d.a,controlId:"formGridName"},r.a.createElement(y.a.Label,null,"Name"),r.a.createElement(y.a.Control,{type:"name",placeholder:"Enter Name",ref:this.nameRef})),r.a.createElement(y.a.Group,{as:d.a,controlId:"formGridPrice"},r.a.createElement(y.a.Label,null,"Price"),r.a.createElement(y.a.Control,{type:"number",placeholder:"5.00",ref:this.priceRef}))),r.a.createElement(y.a.Group,{as:p.a,controlId:"exampleForm.ControlDescription"},r.a.createElement(y.a.Label,{className:"form-description"},"Description"),r.a.createElement(y.a.Control,{className:"form-description",as:"textarea",rows:"3",ref:this.descriptionRef,placeholder:"N/A"})),r.a.createElement(y.a.Group,{as:p.a,controlId:"exampleForm.ControlIngredients"},r.a.createElement(y.a.Label,{className:"form-ingredients"},"Ingredients"),r.a.createElement(y.a.Control,{className:"form-ingredients",as:"textarea",rows:"3",ref:this.ingredientsRef,placeholder:"N/A"})))),r.a.createElement(F.a.Footer,null,r.a.createElement(w.a,{variant:"secondary",onClick:a},"Close"),r.a.createElement(w.a,{variant:"primary",onClick:this.handleSubmit},"Save changes")))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showProductForm:!1,currentTotal:a.props.currentShoppingList.budget,isLoaded:!1,products:[],totalClass:null},a.getClass=function(){var e=a.state.currentTotal;return(e=Number(e))>=1&&e<=14&&e>=0||e<=0?"danger":e>=15&&e<=30?"warning":"normal"},a.getProducts=function(){var e=a.props.currentProducts,t=a.state.isLoaded;e.forEach((function(e){v.get("products/".concat(e,"/")).then((function(e){var n=a.state.products;a.setState({products:[].concat(Object(C.a)(n),[e.data]),isLoaded:!t})}))})),a.setState({isLoaded:!t})},a.handleAddProduct=function(){var e=a.props.getShoppingLists;a.handleShowProductForm(),e(),a.getProducts()},a.handleShowProductForm=function(){var e=a.state.showProductForm;a.setState({showProductForm:!e})},a.updateTotal=function(e){a.setState({currentTotal:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.showProductForm,a=e.currentTotal,n=e.isLoaded,o=e.totalClass,l=this.props,c=l.currentShoppingList,s=l.currentProducts,i=l.getShoppingLists,u=c.name,m=c.budget,h=c.products;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Shopping List"),r.a.createElement("th",null,"Initial Budget "),r.a.createElement("th",null,"Current Total "))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",null,u)," "),r.a.createElement("td",null,"$ ",m),r.a.createElement("td",{className:o},"$ ",a)),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"3",className:"items-label"},"Items",r.a.createElement("span",{className:"add-item-button",onClick:this.handleAddProduct},"Add Product"))),h.length>=1&&!n&&r.a.createElement("tr",null,r.a.createElement(P,{total:a,currentProducts:s,products:h,updateTotal:this.updateTotal})))),t&&r.a.createElement(A,{getShoppingLists:i,getProducts:this.getProducts,handleShowProductForm:this.handleShowProductForm,handleAddProduct:this.handleAddProduct,shoppingList:c,updateTotal:this.updateTotal}))}}]),t}(n.Component),T=a(27),I=a.n(T),D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={shoppingLists:null,showShoppingListForm:!1,showShoppingListProduct:!1,handleShowShoppingList:!1,currentShoppingList:null,currentProducts:[],isLoaded:!1},a.getShoppingLists=function(){v.get("shopping_list/").then((function(e){var t=e.data,n=localStorage.id,r=t.filter((function(e){return e.user===Number(n)?e:null}));a.setState({shoppingLists:r,isLoaded:!a.state.loaded})}))},a.handleShowShoppingListForm=function(){var e=a.state.showShoppingListForm;a.setState({showShoppingListForm:!e})},a.handleShowShoppingList=function(e,t){var n=a.state.showShoppingList;a.setState({showShoppingList:!n,currentShoppingList:e,currentProducts:t})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getShoppingLists()}},{key:"render",value:function(){var e=this.state,t=e.showShoppingListForm,a=e.showShoppingListProduct,n=e.showShoppingList,o=e.shoppingLists,l=e.currentShoppingList,c=e.currentProducts,s=e.isLoaded;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t?r.a.createElement(O,{handleShowShoppingListForm:this.handleShowShoppingListForm,handleShowShoppingList:this.handleShowShoppingList,getShoppingLists:this.getShoppingLists}):r.a.createElement(h.a,{className:"shopping-list-container"},r.a.createElement(p.a,null,r.a.createElement("h2",{className:"shopping-list-heading"},"Your Shopping Lists"),r.a.createElement(d.a,{lg:12},s?r.a.createElement(k,{shoppingLists:o,currentShoppingList:l,handleShowShoppingList:this.handleShowShoppingList,products:c,getShoppingLists:this.getShoppingLists}):r.a.createElement(I.a,{className:"loading-icon",type:"bubbles",color:"#007bff",height:367,width:175}))),r.a.createElement(w.a,{className:"add-list-button",onClick:this.handleShowShoppingListForm},"Click to add a new shopping list"),a&&r.a.createElement(N,null),n&&r.a.createElement(R,{getShoppingLists:this.getShoppingLists,currentProducts:c,currentShoppingList:l,handleShowShoppingList:this.handleShowShoppingList}))))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).destroyStore=function(){var e=a.props,t=e.id,n=e.getStores;v.delete("stores/".concat(t,"/"),{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(window.localStorage.token)}}).then((function(e){n(),console.log("OK")})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.address,n=e.aisles,o=e.handleShowStore,l=e.store;return r.a.createElement(p.a,null,r.a.createElement(d.a,{className:"store-address",onClick:function(){return o(l)}},a),r.a.createElement(d.a,{className:"store-name",onClick:function(){return o(l)}},t),r.a.createElement(d.a,{className:"store-aisles"},n.length),r.a.createElement(d.a,{className:"store-aisles"},"4"),r.a.createElement(d.a,{className:"delete-store"},r.a.createElement(w.a,{variant:"outline-danger",onClick:this.destroyStore},"X")))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a.nameRef=r.a.createRef(),a.addressRef=r.a.createRef(),a.handleSubmit=function(e){e.preventDefault();var t=a.props.handleShowForm,n={name:a.nameRef.current.value,address:a.addressRef.current.value,user:localStorage.id};v.post("stores/",n,{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(window.localStorage.token)}}).then((function(e){t(),console.log(e.statusText)})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.handleShowForm;return r.a.createElement(F.a.Dialog,null,r.a.createElement(F.a.Header,null,r.a.createElement(F.a.Title,null,"Add A Store")),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{controlId:"formBasicName"},r.a.createElement(y.a.Label,null,"Store Name"),r.a.createElement(y.a.Control,{type:"name",placeholder:"Enter Store Name",ref:this.nameRef})),r.a.createElement(y.a.Group,{controlId:"formBasicAddress"},r.a.createElement(y.a.Label,null,"Address"),r.a.createElement(y.a.Control,{type:"address",placeholder:"Example Road, Toronto, Ontario",ref:this.addressRef}))),r.a.createElement(F.a.Footer,null,r.a.createElement(w.a,{variant:"secondary",onClick:e},"Close"),r.a.createElement(w.a,{variant:"primary",onClick:this.handleSubmit},"Save changes")))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.handleShowProducts;return r.a.createElement(h.a,null,r.a.createElement(w.a,{variant:"outline-primary",onClick:e},"Back"),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("h1",null,"Products"))))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showProducts:!1},a.handleShowProducts=function(){var e=a.state.showProducts;a.setState({showProducts:!e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.showProducts,t=this.props,a=t.handleShowStore,n=t.name,o=t.address;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{handleShowProducts:this.handleShowProducts})):r.a.createElement("div",null,r.a.createElement(w.a,{variant:"outline-primary",onClick:function(){return a()}},"Back"),r.a.createElement(h.a,{className:"store-page-container"},r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("h1",null,n))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("p",null,o))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("strong",null,"Aisles")),r.a.createElement(d.a,null,r.a.createElement("strong",null,"Categories")),r.a.createElement(d.a,null,r.a.createElement("strong",{onClick:this.handleShowProducts},"Products"))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,"get aisles"),r.a.createElement(d.a,null,"get categories"),r.a.createElement(d.a,null,"get products")))))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={stores:[],showForm:!1,showStore:!1,selectedStore:null},a.getStores=function(){v.get("stores/").then((function(e){console.log(e.data);var t=e.data.filter((function(e){return Number(e.user)===Number(localStorage.id)?e:null}));a.setState({stores:t})}))},a.allStores=function(){var e=a.state,t=e.stores,n=e.selectedStore;return t.map((function(e,t){return r.a.createElement(x,Object.assign({key:t},e,{store:e,handleShowStore:a.handleShowStore,selectedStore:n,getStores:a.getStores}))}))},a.selectedStore=function(){var e=a.state,t=e.stores,n=e.selectedStore.id;return t.map((function(e,t){return e.id===n?r.a.createElement(G,Object.assign({key:t},e,{handleShowStore:a.handleShowStore})):null}))},a.handleShowForm=function(){var e=a.state.showForm;a.setState({showForm:!e})},a.handleShowStore=function(e){var t=a.state.showStore;a.setState({showStore:!t,selectedStore:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getStores()}},{key:"render",value:function(){var e=this.state,t=e.showForm,a=e.showStore;return r.a.createElement(h.a,null,a?r.a.createElement(r.a.Fragment,null,this.selectedStore()):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"store-main-heading"},r.a.createElement("p",null,"My Stores")),r.a.createElement(p.a,{className:"store-col-header"},r.a.createElement(d.a,null,r.a.createElement("strong",null,"Address")),r.a.createElement(d.a,null,r.a.createElement("strong",null,"Name")),r.a.createElement(d.a,null,r.a.createElement("strong",null,"Aisles")),r.a.createElement(d.a,null,r.a.createElement("strong",null,"Products")),r.a.createElement(d.a,null)),a?r.a.createElement(I.a,{type:"spokes",color:"#007bff",height:667,width:375}):this.allStores(),r.a.createElement(p.a,null,r.a.createElement(d.a,null," "),r.a.createElement(d.a,null,r.a.createElement(w.a,{className:"add-store",variant:"outline-primary",onClick:this.handleShowForm},"Add a store")),r.a.createElement(d.a,null," ")),r.a.createElement(p.a,null,r.a.createElement(d.a,null," "),r.a.createElement(d.a,{sm:12,md:12,lg:12},t&&r.a.createElement(_,{handleShowForm:this.handleShowForm,showForm:t})),r.a.createElement(d.a,null," "))))}}]),t}(n.Component),M=a(28);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState((function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return a[t]=n,a}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"login-form",onSubmit:function(t){return e.props.handleLogin(t,e.state)}},r.a.createElement("h4",null,"Log In"),r.a.createElement("label",{className:"login-username-label",htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("label",{className:"login-password-label",htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{className:"login-submit",type:"submit"}))}}]),t}(n.Component);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var $=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState((function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return a[t]=n,a}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"signup-form",onSubmit:function(t){return e.props.handleSignup(t,e.state)}},r.a.createElement("h4",null,"Sign Up"),r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{type:"submit"}))}}]),t}(r.a.Component),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loggedIn:!!localStorage.token,username:localStorage.username||null,displayedForm:null},a.handleSignup=function(e,t){e.preventDefault(),v.post("users/",{username:t.username,password:t.password}).then((function(e){localStorage.token=e.data.token,localStorage.id=e.data.id,localStorage.username=e.data.username,console.log(e.statusText),a.displayForm(""),a.setState({loggedIn:!0})})).catch((function(e){console.log(e)}))},a.handleLogin=function(e,t){e.preventDefault(),S.a.post("https://shop-it-quick.herokuapp.com/authenticate/",t,{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.token=e.data.token,localStorage.id=e.data.id,localStorage.username=e.data.username,console.log(e.statusText),a.displayForm(""),a.setState({loggedIn:!0})})).catch((function(e){console.log(e)}))},a.handleLogout=function(e){e.preventDefault(),localStorage.token="",localStorage.id="",localStorage.username="",a.displayForm(""),a.setState({loggedIn:!1})},a.displayForm=function(e){a.setState({displayedForm:e})},a.loggedOutNav=r.a.createElement("div",{className:"center"},r.a.createElement("ul",null,r.a.createElement("li",{className:" login-button",onClick:function(){return a.displayForm("login")}},"Login"),r.a.createElement("li",{className:" signup-button",onClick:function(){return a.displayForm("signup")}},"Signup"))),a.loggedInNav=r.a.createElement("button",{className:"btn btn-outline-primary logout-button",onClick:a.handleLogout},"Logout"),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.state.displayedForm;switch(this.state.displayedForm){case"login":e=r.a.createElement(z,{handleLogin:this.handleLogin});break;case"signup":e=r.a.createElement($,{handleSignup:this.handleSignup});break;default:e=null}return r.a.createElement("div",null,r.a.createElement("span",{className:"logout-button-container"},this.state.loggedIn?this.loggedInNav:this.loggedOutNav),r.a.createElement("span",{className:"welcome-message"},t&&r.a.createElement(r.a.Fragment,null,e)),r.a.createElement("div",{className:"login-welcome"},this.state.loggedIn?r.a.createElement("div",{className:"login-username"}," ","Hello, ".concat(localStorage.username.slice(0,1).toUpperCase()+localStorage.username.slice(1))):"Please Log In"))}}]),t}(n.Component),Q=a(119),V=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={show:"hide"},a.handleAddToList=function(){v.get("shopping_list/").then((function(e){console.log(e.data)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.showClass,a=this.props.suggestion.food_description;return r.a.createElement("li",{className:t},a,r.a.createElement(w.a,{variant:"outline-primary",className:"add-suggestion-to-cart",onClick:function(){return e.handleAddToList()}},"Add To List"))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={suggestions:[],searchResults:[],nextItems:!1,query:""},a.searchRef=r.a.createRef(),a.getFoodData=function(e){var t=a.searchRef.current.value;S.a.get("https://food-nutrition.canada.ca/api/canadian-nutrient-file/food/?lang=en&type=json").then((function(n){var r=n.data.filter((function(a){if(a.food_description.includes(t)||a.food_description.includes(e))return a.food_description}));a.setState({suggestions:r})}))},a.showSuggestions=function(){var e=a.state.suggestions;return e.map((function(t,a){for(;a<20;)if(null!==e)return r.a.createElement(V,{key:a,showClass:"show",suggestion:t})}))},a.handleSearchQuery=function(e){var t=e.target.value;a.setState({query:t}),clearTimeout(),setTimeout((function(){a.getFoodData(t)}),500)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.state.query),r.a.createElement("div",null,r.a.createElement("form",{className:"search-form",method:"GET"},r.a.createElement("input",{type:"search",id:"site-search",name:"q","aria-label":"Search through site content",ref:this.searchRef,onChange:this.handleSearchQuery}),r.a.createElement(w.a,{className:"suggestion-button",onClick:this.getFoodData,variant:"outline-primary"},"Get Suggestions")),r.a.createElement("div",{className:"suggestion-box"},r.a.createElement("ul",null,this.showSuggestions())))}}]),t}(r.a.Component),X=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={searchResults:[]},a.searchRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a,{type:"bubbles",color:"#007bff",height:367,width:175}),";")}}]),t}(n.Component);var K=function(){return r.a.createElement(h.a,{fluid:!0,className:"App container"},r.a.createElement(g.a,null,r.a.createElement(Q.a,{className:"justify-content-center navbar"},r.a.createElement(Q.a.Item,null,r.a.createElement(g.b,{to:"/shop_it_django"},"Home")),r.a.createElement(Q.a.Item,null,r.a.createElement(g.b,{to:"/shopping_list"}," Shopping List")),r.a.createElement(Q.a.Item,null,r.a.createElement(g.b,{to:"/stores"}," Stores ")),r.a.createElement(Q.a.Item,null,r.a.createElement(g.b,{to:"/search"}," Suggestions ")),r.a.createElement(Q.a.Item,null,r.a.createElement(H,null))),r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/shop_it_django/"},r.a.createElement(f,null)),r.a.createElement(E.a,{path:"/shopping_list"},r.a.createElement(D,null)),r.a.createElement(E.a,{exact:!0,path:"/stores"},r.a.createElement(U,null)),r.a.createElement(E.a,{exact:!0,path:"/search"},r.a.createElement(W,null)),r.a.createElement(E.a,{exact:!0,path:"/test"},r.a.createElement(X,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(112);l.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,a){e.exports=a(113)},72:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.827ae5fe.chunk.js.map