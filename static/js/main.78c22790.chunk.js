(this.webpackJsonpshop_it_frontend=this.webpackJsonpshop_it_frontend||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),l=a.n(o),s=(a(81),a(5)),c=a(6),i=a(8),u=a(7),m=a(9),h=a(124),p=a(125),d=a(72),g=a(20),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{fluid:!0},r.a.createElement("div",{className:"home-container"}),r.a.createElement(p.a,null,r.a.createElement("div",{className:"welcome-header"},r.a.createElement("h1",null,"Shop It"))),r.a.createElement(p.a,null,r.a.createElement(d.a,{className:"home-image-container"},r.a.createElement("a",{href:"/shop_it_django/"},r.a.createElement("div",{className:"home-image-cart"})))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(g.b,{to:"/stores"},r.a.createElement("span",{className:"home-store-label"},"View Stores "),r.a.createElement("div",{className:"home-store-image-container"})," ")),r.a.createElement(d.a,null,r.a.createElement(g.b,{to:"/shopping_list"},r.a.createElement("span",{className:"home-list-label"},"View Shopping Lists"),r.a.createElement("div",{className:"home-list-image-container"}))),r.a.createElement(d.a,null,r.a.createElement("div",{className:"home-search-box-container"},r.a.createElement("span",{className:"home-search-label"},"Search"),r.a.createElement(g.b,{to:"/search",className:"home-search-icon"},r.a.createElement("span",{className:"search-icon-label"},"Search for a product"),r.a.createElement("i",{className:"fa fa-search"})))))))}}]),t}(r.a.Component),E=a(27),b=a(29),v=a.n(b),S=v.a.create({baseURL:"https://shop-it-quick.herokuapp.com/api/"}),y=a(129),w=a(126),O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a.budgetRef=r.a.createRef(),a.nameRef=r.a.createRef(),a.handleSubmit=function(e){e.preventDefault();var t=a.nameRef.current.value,n=a.budgetRef.current.value,r=localStorage.id,o=a.props,l=o.handleShowShoppingListForm,s=o.getShoppingLists;S.post("shopping_list/",{budget:n,user:Number(r),name:t},{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(window.localStorage.token)}}).then((function(e){l(),s(),console.log(e.statusText)}))},a.goBack=function(){var e=a.props,t=e.handleShowShoppingListForm,n=e.getShoppingLists;t(),n()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(localStorage.id),r.a.createElement(y.a,{className:"new-list-form"},r.a.createElement(y.a.Group,{controlId:"formBasicEmail"},r.a.createElement(y.a.Label,{className:"list-name-label"},"Name of List"),r.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Name",ref:this.nameRef})),r.a.createElement(y.a.Group,{controlId:"formBasicPassword"},r.a.createElement(y.a.Label,{className:"list-budget-label"},"Budget"),r.a.createElement(y.a.Control,{className:"budget-input",type:"number",placeholder:"Enter your budget",ref:this.budgetRef})),r.a.createElement(w.a,{variant:"outline-primary",onClick:function(){return e.goBack()}},"Back"),r.a.createElement(w.a,{className:"new-list-submit",variant:"outline-primary",type:"submit",onClick:this.handleSubmit},"Submit"))}}]),t}(n.Component),j=a(127),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).formatDate=function(e){var t={1:"st",2:"nd",3:"rd",4:"th",5:"th",6:"th",7:"th",8:"th",9:"th",0:"th"},a=(e=e.split("-")).pop(-1),n=e.pop(-1);return(n={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}[n])+"  "+(a+=a>=10?t[a[1]]:t[a])},a.destroyShoppingList=function(){var e=a.props.shoppingList.id,t=a.props.getShoppingLists;S.delete("shopping_list/".concat(e,"/"),{headers:{"Content-Type":"Application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){console.log("Shopping List Deleted"),t()})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.shoppingList,a=e.handleShowShoppingList,n=t.name,o=t.budget,l=t.products,s=t.date;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",{className:"list-name",onClick:function(){return a(t,l)}},n,r.a.createElement("br",null)),r.a.createElement(w.a,{className:"delete-list-button",variant:"outline-danger",onClick:this.destroyShoppingList},r.a.createElement("span",null,"X")),r.a.createElement("span",{className:"list-date"}," ",this.formatDate(s))),r.a.createElement("td",null,"$ ",o,r.a.createElement("br",null),r.a.createElement("span",null)),r.a.createElement("td",null,r.a.createElement("ul",null,l.length)))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={shoppingList:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.shoppingLists,a=e.handleShowShoppingList,n=e.products,o=e.getShoppingLists,l=t.map((function(e,t){return r.a.createElement(L,{key:t,shoppingList:e,products:n,handleShowShoppingList:a,getShoppingLists:o})}));return r.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Shopping List"),r.a.createElement("th",null,"Budget"),r.a.createElement("th",null,"Items"))),r.a.createElement("tbody",null,l))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.currentProducts,t=e.name,a=e.price;return r.a.createElement("div",null,r.a.createElement("div",{className:"product-name"},r.a.createElement("h2",null,t.toUpperCase()),r.a.createElement("p",null,"$ ",a)),r.a.createElement("span",{className:"add-to-cart-button"},r.a.createElement("label",{htmlFor:"added"},"Added to Cart"),"\xa0",r.a.createElement("input",{type:"checkbox",value:"added"})),r.a.createElement("hr",null))}}]),t}(n.Component),C=a(41),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={productList:[],total:Number(a.props.total),isLoaded:!1},a.getProducts=function(){var e=a.props,t=e.products,n=e.updateTotal,r=[];t.forEach((function(e){S.get("products/".concat(e,"/")).then((function(e){r.push(e.data),a.setState((function(t){return{total:Math.round(100*(t.total-e.data.price))/100}}))})).then((function(e){a.setState({productList:r}),n(a.state.total)}))}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"render",value:function(){var e=this.state,t=e.productList,a=e.isLoaded,n=e.total,o=t.map((function(e,t){return!a&&r.a.createElement(N,{key:t,currentProducts:e,total:n})}));return r.a.createElement("td",{colSpan:"3",className:"shopping-list-products"},o)}}]),t}(n.Component),P=a(131),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).nameRef=r.a.createRef(),a.priceRef=r.a.createRef(),a.descriptionRef=r.a.createRef(),a.ingredientsRef=r.a.createRef(),a.state={productId:[],isLoaded:!1},a.getProductIds=function(){var e=a.props.shoppingList.products;console.log(e)},a.addProduct=function(){var e=a.nameRef.current.value,t=a.priceRef.current.value,n=a.descriptionRef.current.value,r=a.ingredientsRef.current.value,o=a.state.isLoaded;n||(n="N/A"),r||(r="N/A");var l={name:e,price:t,description:n,ingredients:r};S.post("products/",l,{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){var t=e.data.id;a.addProductToList(t),a.setState({productId:t,isLoaded:!o}),console.log(e.statusText)})).catch((function(e){console.log("Error: "+e)}))},a.addProductToList=function(e){var t=a.state.isLoaded,n=a.props.getShoppingLists,r=a.props.shoppingList,o=r.id,l=r.products,s={products:[].concat(Object(C.a)(l),[Number(e)])};S.patch("shopping_list/".concat(o,"/"),s,{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){a.setState({isLoaded:!t}),n()}))},a.handleSubmit=function(){var e=a.props,t=e.handleShowProductForm,n=e.getShoppingLists;a.addProduct(),n(),t()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.shoppingList,a=e.handleShowProductForm,n=t.id;return r.a.createElement(P.a.Dialog,{show:a.toString()},r.a.createElement(P.a.Header,null,r.a.createElement(P.a.Title,null,"Add a product to shopping list ",n)),r.a.createElement(P.a.Body,null,r.a.createElement(y.a,null,r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:d.a,controlId:"formGridName"},r.a.createElement(y.a.Label,null,"Name"),r.a.createElement(y.a.Control,{type:"name",placeholder:"Enter Name",ref:this.nameRef})),r.a.createElement(y.a.Group,{as:d.a,controlId:"formGridPrice"},r.a.createElement(y.a.Label,null,"Price"),r.a.createElement(y.a.Control,{type:"number",placeholder:"5.00",ref:this.priceRef}))),r.a.createElement(y.a.Group,{as:p.a,controlId:"exampleForm.ControlDescription"},r.a.createElement(y.a.Label,{className:"form-description"},"Description"),r.a.createElement(y.a.Control,{className:"form-description",as:"textarea",rows:"3",ref:this.descriptionRef,placeholder:"N/A"})),r.a.createElement(y.a.Group,{as:p.a,controlId:"exampleForm.ControlIngredients"},r.a.createElement(y.a.Label,{className:"form-ingredients"},"Ingredients"),r.a.createElement(y.a.Control,{className:"form-ingredients",as:"textarea",rows:"3",ref:this.ingredientsRef,placeholder:"N/A"})))),r.a.createElement(P.a.Footer,null,r.a.createElement(w.a,{variant:"secondary",onClick:a},"Close"),r.a.createElement(w.a,{variant:"primary",onClick:this.handleSubmit},"Save changes")))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showProductForm:!1,currentTotal:a.props.currentShoppingList.budget,isLoaded:!1,products:[],totalClass:null},a.getClass=function(){var e=a.state.currentTotal;return(e=Number(e))>=1&&e<=14&&e>=0||e<=0?"danger":e>=15&&e<=30?"warning":"normal"},a.getProducts=function(){var e=a.props.currentProducts,t=a.state.isLoaded;e.forEach((function(e){S.get("products/".concat(e,"/")).then((function(e){var n=a.state.products;a.setState({products:[].concat(Object(C.a)(n),[e.data]),isLoaded:!t})}))})),a.setState({isLoaded:!t})},a.handleAddProduct=function(){var e=a.props.getShoppingLists;a.handleShowProductForm(),e(),a.getProducts()},a.handleShowProductForm=function(){var e=a.state.showProductForm;a.setState({showProductForm:!e})},a.updateTotal=function(e){a.setState({currentTotal:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.showProductForm,a=e.currentTotal,n=e.isLoaded,o=e.totalClass,l=this.props,s=l.currentShoppingList,c=l.currentProducts,i=l.getShoppingLists,u=s.name,m=s.budget,h=s.products;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Shopping List"),r.a.createElement("th",null,"Initial Budget "),r.a.createElement("th",null,"Current Total "))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",null,u)," "),r.a.createElement("td",null,"$ ",m),r.a.createElement("td",{className:o},"$ ",a)),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"3",className:"items-label"},"Items",r.a.createElement("span",{className:"add-item-button",onClick:this.handleAddProduct},"Add Product"))),h.length>=1&&!n&&r.a.createElement("tr",null,r.a.createElement(F,{total:a,currentProducts:c,products:h,updateTotal:this.updateTotal})))),t&&r.a.createElement(A,{getShoppingLists:i,getProducts:this.getProducts,handleShowProductForm:this.handleShowProductForm,handleAddProduct:this.handleAddProduct,shoppingList:s,updateTotal:this.updateTotal}))}}]),t}(n.Component),I=a(33),T=a.n(I),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={shoppingLists:null,showShoppingListForm:!1,showShoppingListProduct:!1,handleShowShoppingList:!1,currentShoppingList:null,currentProducts:[],isLoaded:!1},a.getShoppingLists=function(){S.get("shopping_list/").then((function(e){var t=e.data,n=localStorage.id,r=t.filter((function(e){return e.user===Number(n)?e:null}));a.setState({shoppingLists:r,isLoaded:!a.state.loaded})}))},a.handleShowShoppingListForm=function(){var e=a.state.showShoppingListForm;a.setState({showShoppingListForm:!e})},a.handleShowShoppingList=function(e,t){var n=a.state.showShoppingList;a.setState({showShoppingList:!n,currentShoppingList:e,currentProducts:t})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getShoppingLists()}},{key:"render",value:function(){var e=this.state,t=e.showShoppingListForm,a=e.showShoppingListProduct,n=e.showShoppingList,o=e.shoppingLists,l=e.currentShoppingList,s=e.currentProducts,c=e.isLoaded;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t?r.a.createElement(O,{handleShowShoppingListForm:this.handleShowShoppingListForm,handleShowShoppingList:this.handleShowShoppingList,getShoppingLists:this.getShoppingLists}):r.a.createElement(h.a,{className:"shopping-list-container"},r.a.createElement(p.a,null,r.a.createElement("h2",{className:"shopping-list-heading"},"Your Shopping Lists"),r.a.createElement(d.a,{lg:12},c?r.a.createElement(k,{shoppingLists:o,currentShoppingList:l,handleShowShoppingList:this.handleShowShoppingList,products:s,getShoppingLists:this.getShoppingLists}):r.a.createElement(T.a,{className:"loading-icon",type:"bubbles",color:"#007bff",height:367,width:175}))),r.a.createElement(w.a,{className:"add-list-button",onClick:this.handleShowShoppingListForm},"Click to add a new shopping list"),a&&r.a.createElement(N,null),n&&r.a.createElement(R,{getShoppingLists:this.getShoppingLists,currentProducts:s,currentShoppingList:l,handleShowShoppingList:this.handleShowShoppingList}))))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).destroyStore=function(){var e=a.props,t=e.id,n=e.getStores;S.delete("stores/".concat(t,"/"),{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(window.localStorage.token)}}).then((function(e){n(),console.log("OK")})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.address,n=e.aisles,o=e.handleShowStore,l=e.store;return r.a.createElement(p.a,null,r.a.createElement(d.a,{className:"store-address",onClick:function(){return o(l)}},a),r.a.createElement(d.a,{className:"store-name",onClick:function(){return o(l)}},t),r.a.createElement(d.a,{className:"store-aisles"},n.length),r.a.createElement(d.a,{className:"store-aisles"},"4"),r.a.createElement(d.a,{className:"delete-store"},r.a.createElement(w.a,{variant:"outline-danger",onClick:this.destroyStore},"X")))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a.nameRef=r.a.createRef(),a.addressRef=r.a.createRef(),a.handleSubmit=function(e){e.preventDefault();var t=a.props.handleShowForm,n={name:a.nameRef.current.value,address:a.addressRef.current.value,user:localStorage.id};S.post("stores/",n,{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(window.localStorage.token)}}).then((function(e){t(),console.log(e.statusText)})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.handleShowForm;return r.a.createElement(P.a.Dialog,null,r.a.createElement(P.a.Header,null,r.a.createElement(P.a.Title,null,"Add A Store")),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{controlId:"formBasicName"},r.a.createElement(y.a.Label,null,"Store Name"),r.a.createElement(y.a.Control,{type:"name",placeholder:"Enter Store Name",ref:this.nameRef})),r.a.createElement(y.a.Group,{controlId:"formBasicAddress"},r.a.createElement(y.a.Label,null,"Address"),r.a.createElement(y.a.Control,{type:"address",placeholder:"Example Road, Toronto, Ontario",ref:this.addressRef}))),r.a.createElement(P.a.Footer,null,r.a.createElement(w.a,{variant:"secondary",onClick:e},"Close"),r.a.createElement(w.a,{variant:"primary",onClick:this.handleSubmit},"Save changes")))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.handleShowProducts;return r.a.createElement(h.a,null,r.a.createElement(w.a,{variant:"outline-primary",onClick:e},"Back"),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("h1",null,"Products"))))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showProducts:!1},a.handleShowProducts=function(){var e=a.state.showProducts;a.setState({showProducts:!e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.showProducts,t=this.props,a=t.handleShowStore,n=t.name,o=t.address;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{handleShowProducts:this.handleShowProducts})):r.a.createElement("div",null,r.a.createElement(w.a,{variant:"outline-primary",onClick:function(){return a()}},"Back"),r.a.createElement(h.a,{className:"store-page-container"},r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("h1",null,n))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("p",null,o))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("strong",null,"Aisles")),r.a.createElement(d.a,null,r.a.createElement("strong",null,"Categories")),r.a.createElement(d.a,null,r.a.createElement("strong",{onClick:this.handleShowProducts},"Products"))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,"get aisles"),r.a.createElement(d.a,null,"get categories"),r.a.createElement(d.a,null,"get products")))))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={stores:[],showForm:!1,showStore:!1,selectedStore:null},a.getStores=function(){S.get("stores/").then((function(e){console.log(e.data);var t=e.data.filter((function(e){return Number(e.user)===Number(localStorage.id)?e:null}));a.setState({stores:t})}))},a.allStores=function(){var e=a.state,t=e.stores,n=e.selectedStore;return t.map((function(e,t){return r.a.createElement(_,Object.assign({key:t},e,{store:e,handleShowStore:a.handleShowStore,selectedStore:n,getStores:a.getStores}))}))},a.selectedStore=function(){var e=a.state,t=e.stores,n=e.selectedStore.id;return t.map((function(e,t){return e.id===n?r.a.createElement(G,Object.assign({key:t},e,{handleShowStore:a.handleShowStore})):null}))},a.handleShowForm=function(){var e=a.state.showForm;a.setState({showForm:!e})},a.handleShowStore=function(e){var t=a.state.showStore;a.setState({showStore:!t,selectedStore:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getStores()}},{key:"render",value:function(){var e=this.state,t=e.showForm,a=e.showStore;return r.a.createElement(h.a,null,a?r.a.createElement(r.a.Fragment,null,this.selectedStore()):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"store-main-heading"},r.a.createElement("p",null,"My Stores")),r.a.createElement(p.a,{className:"store-col-header"},r.a.createElement(d.a,null,r.a.createElement("strong",null,"Address")),r.a.createElement(d.a,null,r.a.createElement("strong",null,"Name")),r.a.createElement(d.a,null,r.a.createElement("strong",null,"Aisles")),r.a.createElement(d.a,null,r.a.createElement("strong",null,"Products")),r.a.createElement(d.a,null)),a?r.a.createElement(T.a,{type:"spokes",color:"#007bff",height:667,width:375}):this.allStores(),r.a.createElement(p.a,null,r.a.createElement(d.a,null," "),r.a.createElement(d.a,null,r.a.createElement(w.a,{className:"add-store",variant:"outline-primary",onClick:this.handleShowForm},"Add a store")),r.a.createElement(d.a,null," ")),r.a.createElement(p.a,null,r.a.createElement(d.a,null," "),r.a.createElement(d.a,{sm:12,md:12,lg:12},t&&r.a.createElement(x,{handleShowForm:this.handleShowForm,showForm:t})),r.a.createElement(d.a,null," "))))}}]),t}(n.Component),M=a(40);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState((function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return a[t]=n,a}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"login-form",onSubmit:function(t){return e.props.handleLogin(t,e.state)}},r.a.createElement("h4",null,"Log In"),r.a.createElement("label",{className:"login-username-label",htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("label",{className:"login-password-label",htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{className:"login-submit",type:"submit"}))}}]),t}(n.Component);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState((function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return a[t]=n,a}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"signup-form",onSubmit:function(t){return e.props.handleSignup(t,e.state)}},r.a.createElement("h4",null,"Sign Up"),r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{type:"submit"}))}}]),t}(r.a.Component),$=a(130),K=a(128),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loggedIn:!!localStorage.token,username:localStorage.username||null,displayedForm:null},a.handleSignup=function(e,t){e.preventDefault(),S.post("users/",{username:t.username,password:t.password}).then((function(e){localStorage.token=e.data.token,localStorage.id=e.data.id,localStorage.username=e.data.username,a.displayForm(""),a.setState({loggedIn:!a.state.loggedIn})})).catch((function(e){if(e.response){var t=String(e.response.status||500);a.displayForm(t)}}))},a.handleLogin=function(e,t){e.preventDefault(),v.a.post("https://shop-it-quick.herokuapp.com/authenticate/",t,{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.token=e.data.token,localStorage.id=e.data.id,localStorage.username=e.data.username,a.displayForm(""),a.setState({loggedIn:!0})})).catch((function(e){a.displayForm("error")}))},a.handleLogout=function(e){e.preventDefault(),localStorage.token="",localStorage.id="",localStorage.username="",a.displayForm(""),a.setState({loggedIn:!1})},a.displayForm=function(e){a.setState({displayedForm:e})},a.loggedOutNav=r.a.createElement("div",{className:"login-container"},r.a.createElement($.a.Link,{className:"login-button",onClick:function(){return a.displayForm("login")}},"Login"),r.a.createElement($.a.Link,{eventKey:2,className:"signup-button",onClick:function(){return a.displayForm("signup")}},"Sign up")),a.loggedInNav=r.a.createElement($.a.Link,{className:"logout-button",eventKey:3,onClick:a.handleLogout},"Logout"),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,a=this.state.displayedForm;switch(this.state.displayedForm){case"login":e=r.a.createElement(W,{handleLogin:this.handleLogin});break;case"signup":e=r.a.createElement(J,{handleSignup:this.handleSignup});break;case"400":t=r.a.createElement(K.a,{variant:"danger"},"Something Went Wrong, Try logging in again, or refreshing the page.");case"201":t=r.a.createElement(K.a,{variant:"danger"},"That username already exists.");case"500":t=r.a.createElement(K.a,{variant:"danger"},"Please Refresh the page if you did not get signed in automatically.");default:e=null}return r.a.createElement("div",null,t,r.a.createElement("span",{className:"logout-button-container"},this.state.loggedIn?this.loggedInNav:this.loggedOutNav),r.a.createElement("span",{className:"welcome-message"},a&&r.a.createElement(r.a.Fragment,null,e)),r.a.createElement("div",{className:"login-welcome"},this.state.loggedIn?r.a.createElement("div",{className:"login-username"}," ","Signed in as, ".concat(localStorage.username.slice(0,1).toUpperCase()+localStorage.username.slice(1))):"Please Log In"))}}]),t}(n.Component),Q=a(132),V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={show:"hide",category:""},a.handleAddToList=function(){S.get("shopping_list/").then((function(e){console.log(e.data)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.showClass,a=this.props.suggestion.food_description;return r.a.createElement("li",{className:t},a,r.a.createElement(w.a,{variant:"outline-primary",className:"add-suggestion-to-cart",onClick:function(){return e.handleAddToList()}},"Add To List"))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={show:"hide",category:""},a.handleAddToList=function(){S.get("shopping_list/").then((function(e){console.log(e.data)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.suggestion,n=t.showClass;return r.a.createElement("li",{className:n},a,r.a.createElement(w.a,{variant:"outline-primary",className:"add-suggestion-to-cart",onClick:function(){return e.handleAddToList()}},"Add To List"))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={suggestions:[],searchResults:[],nextItems:!1,resultsCategory:"",ingredients:[],displayedForm:null,query:""},a.searchRef=r.a.createRef(),a.getFoodData=function(e){var t=a.searchRef.current.value;v.a.get("https://food-nutrition.canada.ca/api/canadian-nutrient-file/food/?lang=en&type=json").then((function(n){var r=n.data.filter((function(a){if(a.food_description.includes(t)||a.food_description.includes(e))return a.food_description}));r||a.displayForm("error"),a.setState({suggestions:r})})).catch((function(e){console.log(e),a.displayForm("error")}))},a.displayForm=function(e){a.setState({displayedForm:e})},a.getRandomIngredients=function(){v.a.get("https://www.themealdb.com/api/json/v1/1/random.php").then((function(e){var t=e.data.meals[0],n=[t.strIngredient1,t.strIngredient2,t.strIngredient3,t.strIngredient4,t.strIngredient5,t.strIngredient6];a.setState({ingredients:n})}))},a.showIngredients=function(){var e=a.state.ingredients;return e.map((function(t,a){if(null!==e)return r.a.createElement(X,{key:a,showClass:"show",suggestion:t})}))},a.showSuggestions=function(){var e=a.state.suggestions;return e.map((function(t,n){for(;n<20;){if(null!==e)return r.a.createElement(V,{key:n,showClass:"show",suggestion:t});a.displayForm("error"),n++}}))},a.getCategoryFromItem=function(e){e.match(/[raw]/gi)||e.match(/[chicken]/gi)?a.setState({resultsCategory:"poultry"}):e.match(/[soup]/gi)&&a.setState({resultsCategory:"soup"})},a.handleSearchQuery=function(e){var t=e.target.value;a.setState({query:t}),clearTimeout(),setTimeout((function(){a.getFoodData(t)}),1e3)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;return"error"===this.state.displayedForm&&(e=r.a.createElement(K.a,{variant:"danger"},"Something Went Wrong, Try again.")),r.a.createElement("div",null,e,r.a.createElement("form",{className:"search-form",method:"GET"},r.a.createElement("input",{type:"search",id:"site-search",name:"q","aria-label":"Search through site content",ref:this.searchRef,onChange:this.handleSearchQuery,placeholder:"Chicken..."}),r.a.createElement("div",{className:"search-button-container"},r.a.createElement(w.a,{className:"suggestion-button",onClick:this.getFoodData,variant:"outline-primary"},"Get Suggestions"),r.a.createElement(w.a,{className:"random-button",variant:"outline-primary",onClick:this.getRandomIngredients},"Get Random Ingredients"))),r.a.createElement("div",{className:"suggestion-box"},r.a.createElement("ul",null,this.showSuggestions()),r.a.createElement("ul",null,this.showIngredients())))}}]),t}(r.a.Component),Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={searchResults:[]},a.searchRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{type:"bubbles",color:"#007bff",height:367,width:175}),";")}}]),t}(n.Component);var ee=function(){return r.a.createElement(h.a,{fluid:!0,className:"App container-fluid"},r.a.createElement(g.a,null,r.a.createElement("br",null),r.a.createElement(Q.a,{collapseOnSelect:!0,expand:"md",bg:"dark",variant:"dark"},r.a.createElement($.a.Item,null,r.a.createElement(g.b,{to:"/shop_it_django"},r.a.createElement(Q.a.Brand,{href:"/"},"Shop It"))),r.a.createElement(Q.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(Q.a.Collapse,{id:"responsive-navbar-nav",className:"navbar navbar-dark bg-dark"},r.a.createElement($.a,{className:"mr-auto collapse-links",bg:"dark",variant:"dark"},r.a.createElement(g.b,{className:"nav-link",to:"/shopping_list"},"Shopping List"),r.a.createElement(g.b,{className:"nav-link",to:"/stores"},"Stores"),r.a.createElement(g.b,{className:"nav-link",to:"/search"},"Shopping List")),r.a.createElement($.a,null,r.a.createElement($.a.Item,null,r.a.createElement(H,null))))),r.a.createElement("br",null),r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/shop_it_django/"},r.a.createElement(f,null)),r.a.createElement(E.a,{path:"/shopping_list"},r.a.createElement(D,null)),r.a.createElement(E.a,{exact:!0,path:"/stores"},r.a.createElement(U,null)),r.a.createElement(E.a,{exact:!0,path:"/search"},r.a.createElement(Y,null)),r.a.createElement(E.a,{exact:!0,path:"/test"},r.a.createElement(Z,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(121);l.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t,a){e.exports=a(122)},81:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.78c22790.chunk.js.map